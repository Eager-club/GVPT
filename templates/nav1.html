<style>
    .page3{
  width: 100%;
  background-color: rgba(217, 217,217,0.15);
  justify-content: center;
  align-content: center;
  overflow: hidden;
}
.mblwel{
  display: none;
}
.page3 .carousel-container {
      width: 80%;
      height: max-content;
      margin-left:10%;
      position: relative;
      overflow: hidden;
      padding: 5% 0 5% 0;
    }
    .page3 .carousel {
      display: flex;
      transition: transform 0.5s ease;
    }
    .page3 .carousel-item {
      min-width: 100%;
      box-sizing: border-box;
      display: flex;
      align-items: center;
    }
    .page3 .carousel-item .content {
      width: 50%;
      padding: 20px;
    }
    .page3 .carousel-item img {
      width: 50%;
      height: auto;
      border-radius: 10px;
      object-fit: cover;
      margin-left: 20px;
      transition: transform 0.3s ease, box-shadow 0.3s ease; 
    }
    .page3 .carousel-item img:hover {
      transform: translateY(-10px); 
      box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25);
    }
    .page3  .carousel-item h2 {
      margin-top: 0;
      margin-bottom: 10%;
      font-size: 1.5em;
      color: #22316c;
    }
    .page3 .carousel-item p {
      text-align: justify;
      /* width: 80% ; */
      margin-bottom: 0;
    }
    .page3  .carousel-controls {
      position: relative;
      bottom: 5px;
      display: Start;
      justify-content: center;
      width: calc(100% - 20px);
    }

    .page3  .carousel-controls button,.carousel-controls span {
      font-size: 35px;
      background-color: rgba(0, 0, 0, 0);
      color: #22316c;
      border: none;
      cursor: pointer;
      border-radius: 100%;
      outline: none;
      margin: 0 5px;
    }

    @media screen and (max-width: 768px) {
        .page3 .carousel-item {
        display: block;
        text-align: center;
      }
      .page3 .carousel-item .content {
        width: 90%;
        padding: 10px;
      }
      .page3 .carousel-item img {
        width: 100%;
        margin-left:-7%;
      }
      .page3 .carousel-item p{
        text-align: center;
      }
      .page3 .carousel-controls {
        position: relative;
        top: 40px;
        left: 0;
        right: 0;
        display: flex;
        justify-content: space-between;
        transform: translateY(-50%);
      }

      .page3 .carousel-controls button{
          padding-bottom:25px;
        }
    }
    /* added lines  */
    /* General styling for the dots */
.carousel-dots {
  display: flex;
  justify-content: center;
  margin-top: 15px;
}

/* Styling for the dots */
.carousel-dots .dot {
  width: 12px;
  height: 12px;
  margin: 0 5px;
  background-color: grey;
  border-radius: 50%;
  cursor: pointer;
  transition: background-color 0.3s;
}

/* For mobile: place dots between "Prev" and "Next" buttons */
@media (max-width: 768px) {
  .carousel-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: space-between;
  }

  .carousel-dots {
    order: 2; /* Ensure the dots are between the buttons */
    position: absolute;
    bottom: 50px;
  }

  #prevBtn, #nextBtn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
  }

  #prevBtn {
    left: 10px;
  }

  #nextBtn {
    right: 10px;
  }
}

/* For larger screens: place dots below the image */
@media (min-width: 769px) {
  .carousel-dots {
    position: relative;
    margin-top: 15px;
    bottom: 0;
  }
}

</style>
<div class="page3">
    <div class="carousel-container">
      <div class="carousel"></div>
      <div class="carousel-controls">
        <span><button id="prevBtn">&#9664;</button></span>
         <!--  added line  -->
        <span><button id="nextBtn">&#9654;</button></span>
      </div><div class="carousel-dots"></div> 
    </div>
  </div>

<script>
    const carouselData = [
      {
        title: "Drug Abuse Day 2024",
        text: "On June 26, 2024, the National Cadet Corps (NCC) of Gayatri Vidya Parishad College for Degree and PG Courses organized an impactful event to commemorate the International Day Against Drug Abuse and Illicit Trafficking. This year's theme, 'People First: Stop Stigma and Discrimination, Strengthen Prevention,' set the tone for the day's activities.",
        imgSrc: "https://www.gvpcdpgc.edu.in/latest_images/Drug_abuse_day.jpeg",
        imgAlt: "Event Image"
      },
       {
        title: "Drug Abuse Day 2024",
        text: "On June 26, 2024, the National Cadet Corps (NCC) of Gayatri Vidya Parishad College for Degree and PG Courses organized an impactful event to commemorate the International Day Against Drug Abuse and Illicit Trafficking. This year's theme, 'People First: Stop Stigma and Discrimination, Strengthen Prevention,' set the tone for the day's activities.",
        imgSrc: "https://www.gvpcdpgc.edu.in/latest_images/Drug_abuse_day.jpeg",
        imgAlt: "Event Image"
      },
       {
        title: "Drug Abuse Day 2024",
        text: "On June 26, 2024, the National Cadet Corps (NCC) of Gayatri Vidya Parishad College for Degree and PG Courses organized an impactful event to commemorate the International Day Against Drug Abuse and Illicit Trafficking. This year's theme, 'People First: Stop Stigma and Discrimination, Strengthen Prevention,' set the tone for the day's activities.",
        imgSrc: "https://www.gvpcdpgc.edu.in/latest_images/Drug_abuse_day.jpeg",
        imgAlt: "Event Image"
      },
       {
        title: "Drug Abuse Day 2024",
        text: "On June 26, 2024, the National Cadet Corps (NCC) of Gayatri Vidya Parishad College for Degree and PG Courses organized an impactful event to commemorate the International Day Against Drug Abuse and Illicit Trafficking. This year's theme, 'People First: Stop Stigma and Discrimination, Strengthen Prevention,' set the tone for the day's activities.",
        imgSrc: "https://www.gvpcdpgc.edu.in/latest_images/Drug_abuse_day.jpeg",
        imgAlt: "Event Image"
      },
       {
        title: "Drug Abuse Day 2024",
        text: "On June 26, 2024, the National Cadet Corps (NCC) of Gayatri Vidya Parishad College for Degree and PG Courses organized an impactful event to commemorate the International Day Against Drug Abuse and Illicit Trafficking. This year's theme, 'People First: Stop Stigma and Discrimination, Strengthen Prevention,' set the tone for the day's activities.",
        imgSrc: "https://www.gvpcdpgc.edu.in/latest_images/Drug_abuse_day.jpeg",
        imgAlt: "Event Image"
      },
      // Repeat for other items
    ];


  const carousel = document.querySelector('.carousel');
  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');
  
//added lines
  const dotContainer = document.createElement('div');
dotContainer.classList.add('carousel-dots');
document.querySelector('.carousel-container').appendChild(dotContainer); // Append to the container

let index1 = 1;
  let interval = 2000; // Auto-scroll interval
  let autoScroll;

  function renderCarousel() {
    const isMobile = window.innerWidth <= 768;
    carousel.innerHTML = carouselData.map(item => {
      if (isMobile) {
        return `
          <div class="carousel-item">
            <div class="content">
              <h2>${item.title}</h2>
              <img src="${item.imgSrc}" alt="${item.imgAlt}">
              <p>${item.text}</p>
            </div>
          </div>
        `;
      } else {
        return `
          <div class="carousel-item">
            <div class="content">
              <h2>${item.title}</h2>
              <p>${item.text}</p>
            </div>
            <img src="${item.imgSrc}" alt="${item.imgAlt}">
          </div>
        `;
      }
    }).join('');

    //added lines
    // Highlight: Render dots based on the number of items
  dotContainer.innerHTML = carouselData.map((_, idx) => `
    <span class="dot" data-index="${idx}"></span>
  `).join('');
  
  updateDots(); // Highlight:
  }


  function updateCarousel() {
    renderCarousel();
    window.addEventListener('resize', renderCarousel);
    startAutoScroll(); // Start auto-scroll on desktop
  }

  function startAutoScroll() {

    const isMobile = window.innerWidth <= 768;
    if (!isMobile) {
      autoScroll = setInterval(nextSlide, interval);
    }
  }

  function stopAutoScroll() {
    clearInterval(autoScroll);
  }

  function showSlide(i) {
    const items = document.querySelectorAll('.carousel-item');
    index1 = (i + items.length) % items.length;
    carousel.style.transition = 'transform 0.5s ease';
    carousel.style.transform = `translateX(${-index1 * 100}%)`;

     // Highlight: Update dots when the slide changes
    updateDots();

    if (index1 === 0) {
      setTimeout(() => {
        carousel.style.transition = 'none';
        index1 = items.length - 2;
        carousel.style.transform = `translateX(${-index1 * 100}%)`;
      }, 500);
    } else if (index1 === items.length - 1) {
      setTimeout(() => {
        carousel.style.transition = 'none';
        index1 = 1;
        carousel.style.transform = `translateX(${-index1 * 100}%)`;
      }, 500);
    }
  }

  function nextSlide() {
    showSlide(index1 + 1);
     interval = 20000;
  }

  function prevSlide() {
    showSlide(index1 - 1);
  }

  function resetAutoScroll() {
    stopAutoScroll();
    startAutoScroll();
  }

  // Highlight: Function to update dot active status
function updateDots() {
  const dots = document.querySelectorAll('.dot');
  dots.forEach((dot, idx) => {
    if (idx === index1) {
      dot.style.backgroundColor = '#e78709'; // Active dot color
    } else {
      dot.style.backgroundColor = 'grey'; // Inactive dot color
    }
  });
}
// Highlight: Add event listeners to dots for manual navigation
dotContainer.addEventListener('click', (e) => {
  if (e.target.classList.contains('dot')) {
    const targetIndex = parseInt(e.target.getAttribute('data-index'), 10);
    resetAutoScroll();
    showSlide(targetIndex);
  }
})

  prevBtn.addEventListener('click', () => {
    resetAutoScroll();
    prevSlide();
  });

  nextBtn.addEventListener('click', () => {
    resetAutoScroll();
    nextSlide();
  });

  document.querySelector('.carousel-container').addEventListener('mouseover', stopAutoScroll);
  document.querySelector('.carousel-container').addEventListener('mouseout', resetAutoScroll);

  updateCarousel();
</script>